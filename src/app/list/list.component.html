<div id='book-list'>
  <app-search></app-search>
      <div class='book-list-container'>
      <mat-card class='mat-card-container' *ngFor="let book of this.bookList | paginate: { itemsPerPage: 10, currentPage: page }">
        <img class='small-image' mat-card-image src='{{book.cover}}' (click)="openWithTemplate(tpl)">
        
        <ng-template #tpl>
          <div class="modal-card">
            <mat-card class="card">

              <header class="modal-card-head">
                <h1>{{book.title}}</h1>
                <span class="spacer"></span>
                <button class='exit-button' mat-raised-button (click)='onCancel()'>
                  <mat-icon>cancel</mat-icon>
                </button>
              </header>
             
              <section class="modal-card-body">
                <div class='big-image-container'>
                  <img class='big-image' mat-card-image src='{{book.cover}}'>
                </div>
                <span class="spacer"></span>
                <div class='text-container'>
                  <h2>Gatunek: {{book.genre}}</h2>
                  <h3 class='text-description'>{{book.description}}</h3>
                  <button class="overlay-add-to-cart-button" mat-stroked-button color="primary" (click)='handleAddToCart(book.title)'>Dodaj do
                    koszyka
                    <mat-icon>add_shopping_cart</mat-icon>
                  </button>
                  <h3>{{book.price + 'zł'}}</h3>
                </div>
              </section>

              <footer class="modal-card-foot"></footer>
              
            </mat-card>
          </div>
        </ng-template>

        <div class="middle">
          <mat-icon class="see-more">zoom_in</mat-icon>
          <p>Więcej</p>
        </div>
        <button class='add-to-cart-button' mat-stroked-button (click)='handleAddToCart(book.title)'>Do koszyka
          <mat-icon>add_shopping_cart</mat-icon>
          <mat-card-title class="price">{{book.price + 'zł'}}</mat-card-title> 
        </button>
      </mat-card>
      <pagination-controls (pageChange)="page = $event"></pagination-controls>
    </div>
</div>
